# ==============================================================================
# Ansible Configuration for FusionCloudX Infrastructure
# ==============================================================================
# This configuration is optimized for homelab use with security best practices
# ==============================================================================

[defaults]

# Inventory
inventory = ./inventory/hosts.ini
host_key_checking = False  # Homelab convenience - containers get recreated often

# Performance
forks = 10
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 3600

# Output
stdout_callback = default
bin_ansible_callbacks = True

# Security
retry_files_enabled = False
# vault_password_file = ./.vault_pass  # Commented out - using 1Password Connect instead

# SSH
remote_user = root  # LXC containers default to root access
remote_port = 22
timeout = 10
pipelining = True  # Performance boost

# Privilege Escalation
become = False  # We're already root in LXC containers
become_method = sudo
become_ask_pass = False

# Roles
roles_path = ./roles

# Collections
collections_paths = ~/.ansible/collections:/usr/share/ansible/collections

# Logging (optional - uncomment to enable)
# log_path = ./ansible.log

# Use YAML format for default callback (ansible-core 2.13+)
[callback_default]
result_format = yaml

[inventory]
enable_plugins = ini, yaml, host_list

[privilege_escalation]
become = False

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
pipelining = True
